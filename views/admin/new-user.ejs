<% include('../layouts/header.ejs') %>
<head>
  <style>
     span{
      color: red;
      font-size: small;
    }
  </style>
</head>

<h1>Add new user</h1>

<form action="" method="post" onsubmit="return allChecking()">
  <input type="text" name="name" placeholder="enter name" id="name" onchange="nameCheck()" />
  <br /><span id="Name"></span><br />
  <input type="email" name="email" placeholder="enter email" id="email" onchange="emailCheck()" />
  <br /><span id="Email"></span><br />
  <input type="text" name="mobile" placeholder="enter mobile" id="number" onchange="numberCheck()" />
  <br /><span id="Number"></span><br />
  <input
    type="password"
    name="password"
    placeholder="enter password"
    id="password" onchange="passwordCheck()"
  />
  <br /><span id="Password"></span><br />
  <input type="submit" value="Add User" onclick="nameCheck(),emailCheck(),numberCheck(),passwordCheck()" />
</form>

<% if(typeof message !=='undefined' ) { %>
<p style="color: red"><%= message %></p>
<% } %>
<a href="/admin/dashboard">Go Back</a>


<script>
  function nameCheck(){
  let name=document.getElementById("name").value;
   if(name ==""){
    document.getElementById("Name").innerHTML="please enter name";
    return false
     }else{
      document.getElementById("Name").innerHTML="";
        return true
     }
}
function emailCheck(){
  let emailId=document.getElementById("email").value;
  console.log("emailId"+emailId);
  if(/^\w+([\.-]?\w+)@\w+([\.-]?\w+)(\.\w{2,3})+$/.test(emailId)==false){
    document.getElementById("Email").innerHTML="Please enter valid email ";
    return false;
  }else{
    document.getElementById("Email").innerHTML="";
    return true;
  }
}
function numberCheck(){
  let number=document.getElementById("number").value;
   if(/^[0-9]+$/.test(number)==false){
    document.getElementById("Number").innerHTML="please enter a valid number";
    return false
   }
  else if(number.length != 10){
    document.getElementById("Number").innerHTML="please enter 10 digits";
    return false
     }else{
      document.getElementById("Number").innerHTML="";
        return true
     }
}
let password=document.getElementById("password").value; 
function passwordCheck(){
  password=document.getElementById("password").value; 
   if(password.length <8){
    document.getElementById("Password").innerHTML="please enter minimum 8 digits";
    return false
     }else{
      document.getElementById("Password").innerHTML="";
        return true
     }
}
function allChecking(){
  if(nameCheck()&&emailCheck()&&numberCheck()&&passwordCheck()){
    return true
  }else{
    return false
  }
}

</script>

<% include('../layouts/footer.ejs') %>
