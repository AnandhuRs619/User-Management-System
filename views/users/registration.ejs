<%- include('../layouts/header.ejs') %>

<section class="vh-100 gradient-custom" style="background-image: url('https://hoylecohen.com/wp-content/uploads/login-page-bg.jpg');">
  <div class="container">
    <div class="row d-flex justify-content-center align-items-center">
      <div class="col-12 col-md-8 col-lg-6 col-xl-5 pt-5">
        <div class="card bg-white text-dark" style="border-radius: 1rem;">
          <div class="card-body  text-center">

            <div class="mb-md-5 mt-md-4">

              <h2 class="fw-bold mb-4 text-uppercase"> Registration </h2>
                <% if(typeof message !=='undefined' ) { %>
                  <p style="color: green"><%= message %></p>
                  <% } %>

                <form action="/register" method="post" onsubmit="return allChecking()">
                  <div class="form-outline mb-4 width:10px">
                   
                    <input 
                      type="text"
                      id="name"
                      name="name"
                      class="form-control form-control-lg"
                      placeholder="Name"
                      onchange="nameCheck()"
                    />
                    <span id="Name"></span>
                  </div>

                  <!-- Email input -->
                  <div class="form-outline mb-4">
                 
                    <input
                      type="email"
                      id="email"
                      name="email"
                      class="form-control form-control-lg"
                      placeholder="Email"
                      onchange="emailCheck()"
                    />
                    <span id="Email"></span>
                  </div>

                  <div class="form-outline mb-4">
                  
                    <input
                      type="text"
                      id="number"
                      name="mobile"
                      class="form-control form-control-lg"
                      placeholder="Mobile No"
                      onchange="numberCheck()"
                    />
                    <span id="Number"></span>
                  </div>

                  <!-- Password input -->
                  <div class="form-outline mb-4">
                  
                    <input
                      type="password"
                      name="password"
                      id="password"
                      placeholder="Password"
                      class="form-control form-control-lg"
                      onchange="passwordCheck()"
                    />
                    <span id="Password"></span>
                  </div>

                  <div class="form-outline mb-4">
                  
                    <input
                      type="password"
                      name="password2"
                      id="password2"
                      placeholder="conform-Password"
                      class="form-control form-control-lg"
                      onchange="passwordCheck2()"
                    />
                    <span id="Password2"></span>
                  </div>

                  <div
                    class="d-flex justify-content-around align-items-center mb-4"
                  ></div>

                  <!-- Submit button -->
                  <button
                    type="submit"
                    class="btn btn-primary btn-lg btn-block"
                    value="Register"
                    onclick="nameCheck() , emailCheck(), numberCheck(), passwordCheck(), passwordCheck2()"
                  > 
                    Register
                  </button>
                  <a href="/login">back to login</a>

                  <div class="align-items-center my-4">
                    <p class="text-center fw-bold mx-3 mb-0 text-muted"></p>
                  </div>
                </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<script>
    function nameCheck(){
    let name=document.getElementById("name").value;
     if(name ==""){
      document.getElementById("Name").innerHTML="please enter name";
      return false
       }else{
        document.getElementById("Name").innerHTML="";
          return true
       }
  }
  function emailCheck(){
    let emailId=document.getElementById("email").value;
    console.log("emailId"+emailId);
    if(/^\w+([\.-]?\w+)@\w+([\.-]?\w+)(\.\w{2,3})+$/.test(emailId)==false){
      document.getElementById("Email").innerHTML="Please enter valid email ";
      return false;
    }else{
      document.getElementById("Email").innerHTML="";
      return true;
    }
  }
  function numberCheck(){
    let number=document.getElementById("number").value;
     if(/^[0-9]+$/.test(number)==false){
      document.getElementById("Number").innerHTML="please enter a valid number";
      return false
     }
    else if(number.length != 10){
      document.getElementById("Number").innerHTML="please enter 10 digits";
      return false
       }else{
        document.getElementById("Number").innerHTML="";
          return true
       }
  }
  let password=document.getElementById("password").value; 
  function passwordCheck(){
    password=document.getElementById("password").value; 
     if(password.length <8){
      document.getElementById("Password").innerHTML="please enter minimum 8 digits";
      return false
       }else{
        document.getElementById("Password").innerHTML="";
          return true
       }
  }
  function passwordCheck2(){
    let password2=document.getElementById("password2").value;
    console.log(password2)
     if(password2 != password || password2==""){
      document.getElementById("Password2").innerHTML="Password not match";
      return false
       }else{
        document.getElementById("Password2").innerHTML="";
        return true
       }
      }
  function allChecking(){
    if(nameCheck()&&emailCheck()&&numberCheck()&&passwordCheck()&&passwordCheck2()){
      return true
    }else{
      return false
    }
  }

</script>

 <%- include('../layouts/footer.ejs') %>